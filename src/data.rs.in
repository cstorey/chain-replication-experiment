#[derive(Debug,PartialEq,Eq,PartialOrd,Ord,Hash,Clone,Copy,Default, Serialize, Deserialize)]
pub struct Seqno(u64);

#[derive(Clone, Debug, PartialEq, Eq, Serialize, Deserialize)]
pub enum Operation {
    Set(String),
    Get
}

#[derive(Debug, Serialize, Deserialize)]
pub enum OpResp {
    Ok(Epoch, Seqno, Option<String>),
    HelloIWant(Seqno),
    Err(Epoch, Seqno, String),
}

#[derive(Eq,PartialEq, Clone, Debug, Serialize, Deserialize)]
pub enum Role {
    Client,
    Upstream,
}

#[derive(Debug, Clone, PartialEq, Eq, Default, Serialize, Deserialize)]
pub struct NodeViewConfig {
    pub peer_addr: Option<String>,
    pub client_addr: Option<String>,
}

#[derive(Debug, Clone, PartialEq, Eq, Serialize, Deserialize)]
pub enum PeerMsg {
    Prepare (Seqno, Operation),
    CommitTo (Seqno),
}
#[derive(Debug, Clone, PartialEq, Eq, Serialize, Deserialize)]
pub struct ReplicationMessage {
    pub epoch: Epoch,
    pub msg: PeerMsg,
}
